/*!
 * Autoload v1.1.0
 *
 * Licensed GPLv3
 *
 * http://www.chefduweb.nl/plugins/autoload
 * Copyright 2015 Chef du Web
 */
 !function(t,e){function s(e,s){this.element=e,this.triggerY=9999,this.updating=!1,this.doneLoading=!1,this.settings=t.extend({},n,s),this._defaults=n,this._name=i,this.init()}var i="AutoLoad",n={loaderClass:"autoload-loader",loaderContent:"",pageNumber:1,column:"",section:"",message:"Geen berichten gevonden",wrap:!0,postId:0,beforeLoad:null,afterLoad:null,afterPlacement:null};t.extend(s.prototype,{init:function(){this.setupLoader(),this.setupLoadEvent()},setupLoadEvent:function(){var s=this;t(e).scroll(function(){if(s.doneLoading===!1){var i=t(e).scrollTop();i+=t(e).height(),i>=s.triggerY&&s.updating===!1&&(s.updating=!0,s.updateLoader(),s.autoload())}})},autoload:function(){var e=this;e.settings.pageNumber++;var s={action:"autoload",page:this.settings.pageNumber,section:this.settings.section,column:this.settings.column,post_id:this.settings.postId,message:this.settings.message,wrap:this.settings.wrap};null!==e.settings.beforeLoad&&e.settings.beforeLoad(e,s),t.post(Cuisine.ajax,s,function(s){if(0===s||"message"===s){e.doneLoading=!0,e.reset();var i=e.settings.message;e.settings.wrap&&(i='<p class="autoload-msg message">'+i+"</p>"),t(e.element).append(i)}else null!==e.settings.afterLoad&&e.settings.afterLoad(e,s),t("."+e.settings.loaderClass).remove(),t(e.element).append(s),null!==e.settings.afterPlacement&&e.settings.afterPlacement(e,s),e.reset()})},reset:function(){this.updating=!1,this.setupLoader()},setupLoader:function(){if(t("."+this.settings.loaderClass).remove(),this.doneLoading===!1){var e="";e+='<div class="'+this.settings.loaderClass+'">',e+=this.settings.loaderContent,e+="</div>",t(this.element).append(e),this.calculateTrigger()}},updateLoader:function(){this.updating?t("."+this.settings.loaderClass).addClass("visible"):t("."+this.settings.loaderClass).removeClass("visible")},calculateTrigger:function(){var e=t("."+this.settings.loaderClass).offset().top;this.triggerY=e}}),t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new s(this,e))}),this}}(jQuery,window,document);