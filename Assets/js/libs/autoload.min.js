/*!
 * Autoload v1.1.0
 *
 * Licensed GPLv3
 *
 * http://www.chefduweb.nl/plugins/autoload
 * Copyright 2015 Chef du Web
 */
!function(t,e){function s(e,s){this.element=e,this.triggerY=9999,this.updating=!1,this.doneLoading=!1,this.settings=t.extend({},i,s),this._defaults=i,this._name=a,this.init()}var a="AutoLoad",i={loaderClass:"autoload-loader",pageNumber:1,postType:"post",template:"row",postsPerPage:12,message:"Geen berichten gevonden",wrap:!1,beforeLoad:null,afterLoad:null,afterPlacement:null};t.extend(s.prototype,{init:function(){this.setupLoader(),this.setupLoadEvent()},setupLoadEvent:function(){var s=this;t(e).scroll(function(){if(s.doneLoading===!1){var a=t(e).scrollTop();a+=t(e).height(),a>=s.triggerY&&s.updating===!1&&(s.updating=!0,s.autoload())}})},autoload:function(){var e=this;e.settings.pageNumber++;var s={action:"chef_autoload",page_number:this.settings.pageNumber,post_type:this.settings.postType,template:this.settings.template,posts_per_page:this.settings.PostsPerPage,message:this.settings.message,wrap:this.settings.wrap};null!==e.settings.beforeLoad&&e.settings.beforeLoad(e,s),t.post(ajaxurl,s,function(s){if(0===s||"message"===s){e.doneLoading=!0,e.reset();var a=e.settings.message;e.settings.wrap&&(a='<p class="autoload-msg message">'+a+"</p>"),t(e.element).append(a)}else null!==e.settings.afterLoad&&e.settings.afterLoad(e,s),t("."+e.settings.loaderClass).remove(),t(e.element).append(s),null!==e.settings.afterPlacemnet&&e.settings.afterPlacement(e,s),e.reset()})},reset:function(){this.updating=!1,this.setupLoader()},setupLoader:function(){if(t("."+this.settings.loaderClass).remove(),this.doneLoading===!1){var e="";e+='<div class="'+this.settings.loaderClass+'">',e+="</div>",t(this.element).append(e),this.calculateTrigger()}},calculateTrigger:function(){var e=t("."+this.settings.loaderClass).offset().top;this.triggerY=e}}),t.fn[a]=function(e){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this,e))}),this}}(jQuery,window,document);